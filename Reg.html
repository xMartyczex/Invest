<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registrace - Investice Snadno</title>
  <link rel="stylesheet" href="reg-styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
</head>
<body class="dark-mode">
  <!-- Navigace -->
  <header>
    <nav>
      <div class="logo">Investice Snadno</div>
      <ul>
        <li><a href="index.html">Dom콢</a></li>
        <li><a href="index.html#vyhody">V칳hody</a></li>
        <li><a href="index.html#kalkulacka">Kalkula캜ka</a></li>
        <li><a href="index.html#strategie">Strategie</a></li>
        <li><a href="index.html#novinky">Novinky</a></li>
        <li><a href="index.html#kontakt">Kontakt</a></li>
      </ul>
      <button class="theme-toggle" onclick="toggleTheme()">游깿</button>
    </nav>
  </header>

  <!-- Dekorativn칤 bubliny -->
  <div class="bubbles">
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
    <div class="bubble"></div>
  </div>

  <!-- Registra캜n칤 sekce -->
  <section id="registration">
    <div class="reg-container">
      <h1>Registrace do syst칠mu 游닇</h1>
      <p>Vytvo콏 si 칰캜et a za캜ni investovat je코t캩 dnes!</p>
      <form id="reg-form" onsubmit="handleLogin(event)">
        <div class="form-group">
          <label for="username">U쬴vatelsk칠 jm칠no:</label>
          <input type="text" id="username" placeholder="nap콏. investor123" required>
        </div>
        <div class="form-group" id="email-group">
          <label for="email">E-mail:</label>
          <input type="email" id="email" placeholder="nap콏. jmeno@seznam.cz" required>
        </div>
        <div class="form-group">
          <label for="password">Heslo:</label>
          <input type="password" id="password" placeholder="Minim치ln캩 6 znak콢" required>
        </div>
        <!-- Vylep코en치 captcha -->
        <div class="form-group captcha-container">
          <label id="captcha-label" for="captcha"></label>
          <div class="captcha-content">
            <input type="text" id="captcha" placeholder="Odpov캩캞" required>
            <button type="button" onclick="generateCaptcha()" class="captcha-refresh">Obnovit 游댃</button>
          </div>
        </div>
        <button type="submit" class="reg-button">Registrovat se 游</button>
      </form>
      <p class="login-link">Ji m치코 칰캜et? <a href="#">P콏ihl치sit se</a></p>
    </div>
  </section>

  <!-- Infografika -->
  <section class="info-graphic">
    <div class="info-item">
      <span class="icon">游늳</span>
      <h3>Zvy코 sv콢j kapit치l</h3>
      <p>Investuj chyt콏e a sleduj r콢st sv칳ch pen캩z!</p>
    </div>
    <div class="info-item">
      <span class="icon">游</span>
      <h3>Bezpe캜nost na prvn칤m m칤st캩</h3>
      <p>Tvoje data jsou u n치s v bezpe캜칤.</p>
    </div>
    <div class="info-item">
      <span class="icon">游깷</span>
      <h3>Glob치ln칤 trhy</h3>
      <p>Obchoduj na sv캩tov칳ch burz치ch kdykoliv!</p>
    </div>
  </section>

  <footer>
    <p>춸 2025 Investice Snadno. V코echna pr치va vyhrazena. Sleduj n치s! 游깷</p>
    <div class="social-icons">
      <a href="#"><img src="https://img.icons8.com/ios-filled/24/ffffff/facebook-new.png" alt="Facebook"></a>
      <a href="#"><img src="https://img.icons8.com/ios-filled/24/ffffff/twitter.png" alt="Twitter"></a>
      <a href="#"><img src="https://img.icons8.com/ios-filled/24/ffffff/instagram-new.png" alt="Instagram"></a>
    </div>
  </footer>

  <script>
    let isLogin = false;
    let savedEmailGroup = null;
    let captchaAnswer = 0;

    // Generov치n칤 n치hodn칠 captcha ot치zky
    function generateCaptcha() {
      const num1 = Math.floor(Math.random() * 20) + 1;
      const num2 = Math.floor(Math.random() * 10) + 1;
      const operation = Math.random() > 0.5 ? '+' : '-';
      if (operation === '+') {
        captchaAnswer = num1 + num2;
        document.getElementById('captcha-label').textContent = `Ov캩콏ovac칤 k칩d: Kolik je ${num1} + ${num2}?`;
      } else {
        captchaAnswer = num1 - num2;
        document.getElementById('captcha-label').textContent = `Ov캩콏ovac칤 k칩d: Kolik je ${num1} - ${num2}?`;
      }
    }

    // P콏ep칤n치n칤 mezi registra캜n칤m a p콏ihla코ovac칤m re쬴mem
    function toggleForm(event) {
      event.preventDefault();
      const header = document.querySelector('.reg-container h1');
      const description = document.querySelector('.reg-container p:not(.login-link)');
      const submitButton = document.querySelector('.reg-button');

      if (!isLogin) {
        const emailGroup = document.getElementById('email-group');
        savedEmailGroup = emailGroup;
        emailGroup.remove();

        header.textContent = "P콏ihl치sit se do syst칠mu";
        description.textContent = "Zadej sv칠 p콏ihla코ovac칤 칰daje.";
        submitButton.textContent = "P콏ihl치sit se";

        document.querySelector('.login-link').innerHTML = "Nem치코 칰캜et? <a href='#'>Registrovat se</a>";
        document.querySelector('.login-link a').addEventListener('click', toggleForm);
        isLogin = true;
      } else {
        header.textContent = "Registrace do syst칠mu 游닇";
        description.textContent = "Vytvo콏 si 칰캜et a za캜ni investovat je코t캩 dnes!";

        const usernameGroup = document.getElementById('username').parentElement;
        usernameGroup.parentNode.insertBefore(savedEmailGroup, usernameGroup.nextSibling);

        submitButton.textContent = "Registrovat se 游";

        document.querySelector('.login-link').innerHTML = "Ji m치코 칰캜et? <a href='#'>P콏ihl치sit se</a>";
        document.querySelector('.login-link a').addEventListener('click', toggleForm);
        isLogin = false;
      }
      generateCaptcha();
    }

    // Zpracov치n칤 odesl치n칤 formul치콏e
    function handleLogin(event) {
      event.preventDefault();
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      const captchaInput = document.getElementById('captcha').value;

      if (!isLogin) {
        const email = document.getElementById('email')?.value;
        if (username && email && password.length >= 6 && parseInt(captchaInput) === captchaAnswer) {
          localStorage.setItem('username', username);
          alert('Registrace 칰sp캩코n치! P콏esm캩rov치v치m na Obchod...');
          window.location.href = 'Obchod.html';
        } else {
          alert('Pros칤m, vypl켿 v코echna pole spr치vn캩 a ujisti se, 쬰 ov캩콏ovac칤 k칩d je spr치vn칳.');
          generateCaptcha();
        }
      } else {
        if (username && password.length >= 6 && parseInt(captchaInput) === captchaAnswer) {
          localStorage.setItem('username', username);
          alert('P콏ihl치코en칤 칰sp캩코n칠! P콏esm캩rov치v치m do syst칠mu...');
          window.location.href = 'Obchod.html';
        } else {
          alert('Pros칤m, vypl켿 v코echna pole spr치vn캩. Heslo mus칤 m칤t alespo켿 6 znak콢 a ov캩콏ovac칤 k칩d mus칤 b칳t spr치vn칳.');
          generateCaptcha();
        }
      }
    }

    // P콏ep칤n치n칤 sv캩tl칠ho/tmav칠ho re쬴mu
    function toggleTheme() {
      document.body.classList.toggle('dark-mode');
      document.body.classList.toggle('light-mode');
      localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
    }

    // Inicializace p콏i na캜ten칤 str치nky
    document.addEventListener('DOMContentLoaded', () => {
      const savedTheme = localStorage.getItem('theme') || 'dark';
      if (savedTheme === 'dark') {
        document.body.classList.add('dark-mode');
      } else {
        document.body.classList.add('light-mode');
      }
      generateCaptcha();
      document.querySelector('.login-link a').addEventListener('click', toggleForm);
    });
  </script>
</body>
</html>