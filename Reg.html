<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registrace - Investice Snadno</title>
  <link rel="stylesheet" href="reg-styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <nav>
      <div class="logo">Investice Snadno</div>
      <ul>
        <li><a href="index.html">Domů</a></li>
        <li><a href="index.html#vyhody">Výhody</a></li>
        <li><a href="index.html#kalkulacka">Kalkulačka</a></li>
        <li><a href="index.html#strategie">Strategie</a></li>
        <li><a href="index.html#novinky">Novinky</a></li>
        <li><a href="index.html#kontakt">Kontakt</a></li>
      </ul>
    </nav>
  </header>

  <section id="registration">
    <div class="reg-container">
      <h1>Registrace do systému 📝</h1>
      <p>Vytvoř si účet a začni investovat ještě dnes!</p>
      <form id="reg-form" onsubmit="handleLogin(event)">
        <div class="form-group">
          <label for="username">Uživatelské jméno:</label>
          <input type="text" id="username" placeholder="např. investor123" required>
        </div>
        <div class="form-group">
          <label for="email">E-mail:</label>
          <input type="email" id="email" placeholder="např. jmeno@seznam.cz" required>
        </div>
        <div class="form-group">
          <label for="password">Heslo:</label>
          <input type="password" id="password" placeholder="Minimálně 6 znaků" required>
        </div>
        <button type="submit" class="reg-button">Registrovat se 🚀</button>
      </form>
      <p class="login-link">Již máš účet? <a href="#">Přihlásit se</a></p>
    </div>
  </section>

  <footer>
    <p>© 2025 Investice Snadno. Všechna práva vyhrazena. Sleduj nás! 🌐</p>
    <div class="social-icons">
      <a href="#"><img src="https://img.icons8.com/ios-filled/24/ffffff/facebook-new.png" alt="Facebook"></a>
      <a href="#"><img src="https://img.icons8.com/ios-filled/24/ffffff/twitter.png" alt="Twitter"></a>
      <a href="#"><img src="https://img.icons8.com/ios-filled/24/ffffff/instagram-new.png" alt="Instagram"></a>
    </div>
  </footer>

  <script>
    let isLogin = false;
    let savedEmailGroup = null;

    function toggleForm(event) {
      event.preventDefault();
      const header = document.querySelector('.reg-container h1');
      const description = document.querySelector('.reg-container p:not(.login-link)');
      const submitButton = document.querySelector('.reg-button');

      if (!isLogin) {
        const emailGroup = document.getElementById('email').parentElement;
        savedEmailGroup = emailGroup;
        emailGroup.remove();

        header.textContent = "Přihlásit se do systému";
        description.textContent = "Zadej své přihlašovací údaje.";
        submitButton.textContent = "Přihlásit se";

        document.querySelector('.login-link').innerHTML = "Nemáš účet? <a href='#'>Registrovat se</a>";
        document.querySelector('.login-link a').addEventListener('click', toggleForm);
        isLogin = true;
      } else {
        header.textContent = "Registrace do systému 📝";
        description.textContent = "Vytvoř si účet a začni investovat ještě dnes!";

        const usernameGroup = document.getElementById('username').parentElement;
        usernameGroup.parentNode.insertBefore(savedEmailGroup, usernameGroup.nextSibling);

        submitButton.textContent = "Registrovat se 🚀";

        document.querySelector('.login-link').innerHTML = "Již máš účet? <a href='#'>Přihlásit se</a>";
        document.querySelector('.login-link a').addEventListener('click', toggleForm);
        isLogin = false;
      }
    }

    function handleLogin(event) {
      event.preventDefault();
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;

      if (!isLogin) {
        // Režim registrace
        const email = document.getElementById('email').value;
        if (username && email && password.length >= 6) {
          localStorage.setItem('username', username); // Uložení jména do localStorage
          alert('Registrace úspěšná! Přesměrovávám na Obchod...');
          window.location.href = 'Obchod.html';
        } else {
          alert('Prosím, vyplň všechna pole správně. Heslo musí mít alespoň 6 znaků.');
        }
      } else {
        // Režim přihlášení
        if (username && password.length >= 6) {
          localStorage.setItem('username', username); // Uložení jména i při přihlášení
          alert('Přihlášení úspěšné! Přesměrovávám do systému...');
          window.location.href = 'Obchod.html';
        } else {
          alert('Prosím, vyplň všechna pole správně. Heslo musí mít alespoň 6 znaků.');
        }
      }
    }

    // Přidáme event listener na odkaz po načtení stránky
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelector('.login-link a').addEventListener('click', toggleForm);
    });
  </script>
</body>
</html>